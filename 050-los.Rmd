# Length of stay (LOS) and Pediatric Intensive Care Unit (PICU) discharge {#los .tabset .tabset-fade .tabset-pills}

## Overview {-}



## Durata della degenza {.tabset .tabset-dropdown}

### Durata
```{r, eval=!params$export}
losReportUI("l_durata")
```

```{r, context = "server", eval=!params$export}
losReport(
  "l_durata",
  data = data_ranged[["full_filtered"]],
  what = "durata_degenza"
)
```

### Durata Vs. PIM

```{r, eval=!params$export}
lospimReportUI("l_durata_pim")
```

```{r, context = "server", eval=!params$export}
lospimReport(
  "l_durata_pim",
  data = data_ranged[["full_filtered"]]
)
```


## Discharge {.tabset .tabset-dropdown}

### Diagnosi di dimissione principale
```{r, eval=!params$export}
losReportUI("l_diagnosi")
```

```{r, context = "server", eval=!params$export}
losReport(
  "l_diagnosi",
  data = data_ranged[["full_filtered"]],
  what = "diagnosi"
)
```

```{r, context = "server", eval=params$export, fig.height=11}
losReportStatic(
  data = data_ranged[["full_filtered"]](),
  completed = params[["d_diagnosi_completed"]],
  what = "diagnosi"
)
```

### Diagnosi di dimissione secondaria
```{r, eval=!params$export}
losReportUI("l_diagnosi_2")
```

```{r, context = "server", eval=!params$export}
losReport(
  "l_diagnosi_2",
  data = data_ranged[["full_filtered"]],
  what = "diagnosi_2"
)
```

```{r, context = "server", eval=params$export, fig.height=11}
losReportStatic(
  data = data_ranged[["full_filtered"]](),
  completed = params[["d_diagnosi_2_completed"]],
  what = "diagnosi_2"
)
```

## POPC  {.tabset .tabset-dropdown}
```{r, eval=!params$export}
losReportUI("l_popc_dimissione")
```

```{r, context = "server", eval=!params$export}
losReport(
  "l_popc_dimissione",
  data = data_ranged[["full_filtered"]],
  what = "popc_dimissione"
)
```

```{r, context = "server", eval=params$export, fig.height=11}
losReportStatic(
  data = data_ranged[["full_filtered"]](),
  completed = params[["d_popc_dimissione_completed"]],
  what = "popc_dimissione"
)
```

## Accertamento di morte e donazione {.tabset .tabset-dropdown}

### Esito
```{r, eval=!params$export}
losReportUI("l_esito_tip")
```

```{r, context = "server", eval=!params$export}
losReport(
  "l_esito_tip",
  data = data_ranged[["full_filtered"]],
  what = "esito_tip"
)
```

```{r, context = "server", eval=params$export, fig.height=11}
losReportStatic(
  data = data_ranged[["full_filtered"]](),
  completed = params[["d_esito_tip_completed"]],
  what = "esito_tip"
)
```

### Decesso
```{r, eval=!params$export}
losReportUI("l_mod_decesso")
```

```{r, context = "server", eval=!params$export}
losReport(
  "l_mod_decesso",
  data = data_ranged[["full_filtered"]],
  what = "mod_decesso"
)
```

```{r, context = "server", eval=params$export, fig.height=11}
losReportStatic(
  data = data_ranged[["full_filtered"]](),
  completed = params[["d_mod_decesso_completed"]],
  what = "mod_decesso"
)
```


### Accertamento di morte
```{r, eval=!params$export}
losReportUI("l_deceduto")
```

```{r, context = "server", eval=!params$export}
losReport(
  "l_deceduto",
  data = data_ranged[["full_filtered"]],
  what = "deceduto"
)
```

```{r, context = "server", eval=params$export, fig.height=11}
losReportStatic(
  data = data_ranged[["full_filtered"]](),
  completed = params[["d_deceduto_completed"]],
  what = "deceduto"
)
```

### Prelievo di organi
```{r, eval=!params$export}
losReportUI("l_prelievo_organi")
```

```{r, context = "server", eval=!params$export}
losReport(
  "l_prelievo_organi",
  data = data_ranged[["full_filtered"]],
  what = "prelievo_organi"
)
```

```{r, context = "server", eval=params$export, fig.height=11}
losReportStatic(
  data = data_ranged[["full_filtered"]](),
  completed = params[["d_prelievo_organi_completed"]],
  what = "prelievo_organi"
)
```

### Destinazione
```{r, eval=!params$export}
losReportUI("l_destinazione")
```

```{r, context = "server", eval=!params$export}
losReport(
  "l_destinazione",
  data = data_ranged[["full_filtered"]],
  what = "destinazione"
)
```

```{r, context = "server", eval=params$export, fig.height=11}
losReportStatic(
  data = data_ranged[["full_filtered"]](),
  completed = params[["d_destinazione_completed"]],
  what = "destinazione"
)
```

<!-- ## Standardized Mortality Ratio (SMR) {.tabset .tabset-dropdown} -->
## Standardized Mortality Ratio (SMR)

The Standardized Mortality Ratio (SMR) was estimated as the ratio between observed deaths/expected deaths.
Expected deaths were derived as the sum of all the PIM scores for each category considered.

The new score seems to perform better than the old one, with a more adequate estimation of deaths and a more
correct SMR.

<!-- ### Units -->
```{r, eval=!params$export}
losReportUI("l_smr")
```

```{r, context = "server", eval=!params$export}
losReport(
  "l_smr",
  data = data_ranged[["full_filtered"]],
  what = "smr"
)
```

<!--#### Units -->
<!--### PIM2 and PIM3 -->

<!--### Age-->

<!--### Year-->

<!--### Type-->


<!--#### Predictive mortality models {.tabset .tabset-dropdown}-->
